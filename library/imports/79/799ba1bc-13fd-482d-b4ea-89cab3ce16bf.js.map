{"version":3,"sources":["assets\\JS\\js_httpRequest.js"],"names":["HttpHelper","cc","Class","Component","statics","properties","ctor","baseUrl","httpPost","url","params","callback","xhr","loader","getXMLHttpRequest","onreadystatechange","readyState","status","respone","responseText","JSON","parse","posturl","open","setRequestHeader","timeout","send","window"],"mappings":";;;;;;AAAA;AACA,IAAMA,UAAU,GAAGC,EAAE,CAACC,KAAH,CAAS;AACxB,aAASD,EAAE,CAACE,SADY;AAGxBC,EAAAA,OAAO,EAAE,EAHe;AAKxBC,EAAAA,UAAU,EAAE,EALY;AAOxBC,EAAAA,IAPwB,kBAOjB;AACH,SAAKC,OAAL,GAAe,8BAAf;AACH,GATuB;;AAYxB;;;;;;AAMAC,EAAAA,QAlBwB,oBAkBfC,GAlBe,EAkBVC,MAlBU,EAkBFC,QAlBE,EAkBQ;AACxB,QAAIC,GAAG,GAAGX,EAAE,CAACY,MAAH,CAAUC,iBAAV,EAAV;;AACAF,IAAAA,GAAG,CAACG,kBAAJ,GAAyB,YAAY;AACjC,UAAIH,GAAG,CAACI,UAAJ,KAAmB,CAAnB,IAAyBJ,GAAG,CAACK,MAAJ,IAAc,GAAd,IAAqBL,GAAG,CAACK,MAAJ,GAAa,GAA/D,EAAqE;AACjE,YAAIC,OAAO,GAAGN,GAAG,CAACO,YAAlB;AACAR,QAAAA,QAAQ,CAACS,IAAI,CAACC,KAAL,CAAWH,OAAX,CAAD,CAAR;AACH,OAHD,MAGO,CACH;AACA;AACH;AACJ,KARD;;AASA,QAAII,OAAO,GAAG,KAAKf,OAAL,GAAeE,GAA7B;AACAG,IAAAA,GAAG,CAACW,IAAJ,CAAS,MAAT,EAAiBD,OAAjB,EAA0B,IAA1B;AAEAV,IAAAA,GAAG,CAACY,gBAAJ,CAAqB,cAArB,EAAqC,mCAArC;AAEAZ,IAAAA,GAAG,CAACa,OAAJ,GAAc,IAAd;AACAb,IAAAA,GAAG,CAACc,IAAJ,CAAShB,MAAT;AACP;AApCuB,CAAT,CAAnB;AAyCAiB,MAAM,CAAC3B,UAAP,GAAoB,IAAIA,UAAJ,EAApB","sourceRoot":"/","sourcesContent":["// 封装http请求\r\nconst HttpHelper = cc.Class({\r\n    extends: cc.Component,\r\n \r\n    statics: {},\r\n \r\n    properties: {},\r\n\r\n    ctor() {\r\n        this.baseUrl = 'http://www.llspace.com.cn/mg'\r\n    },\r\n\r\n \r\n    /**\r\n     * post请求\r\n     * @param {string} url \r\n     * @param {object} params \r\n     * @param {function} callback \r\n     */\r\n    httpPost(url, params, callback) {\r\n            let xhr = cc.loader.getXMLHttpRequest();\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {\r\n                    let respone = xhr.responseText;\r\n                    callback(JSON.parse(respone));\r\n                } else {\r\n                    // callback(-1);\r\n                    // cc.log('网络请求错误')\r\n                }\r\n            };\r\n            let posturl = this.baseUrl + url\r\n            xhr.open('POST', posturl, true);\r\n            \r\n            xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n        \r\n            xhr.timeout = 8000;\r\n            xhr.send(params);\r\n    },\r\n \r\n    \r\n});\r\n \r\nwindow.HttpHelper = new HttpHelper();"]}