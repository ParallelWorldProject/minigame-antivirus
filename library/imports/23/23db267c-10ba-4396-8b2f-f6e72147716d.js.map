{"version":3,"sources":["assets\\JS\\cardRegion\\js_cardList.js"],"names":["cardItem","cc","Class","name","properties","id","from","date","information","picUrl","optionA","optionB","Component","cardItems","type","cardPerfab","Prefab","init","i","length","item","instantiate","node","addChild","data","isTopCard","getComponent","getNextCard","children","active","moveOff","nextCard","nextItem","moveUp"],"mappings":";;;;;;AAAA,IAAIA,QAAQ,GAAGC,EAAE,CAACC,KAAH,CAAS;AACpBC,EAAAA,IAAI,EAAG,UADa;AAEpBC,EAAAA,UAAU,EAAC;AACPC,IAAAA,EAAE,EAAG,CADE;AAEPC,IAAAA,IAAI,EAAC,GAFE;AAGPH,IAAAA,IAAI,EAAC,GAHE;AAIPI,IAAAA,IAAI,EAAC,WAJE;AAKPC,IAAAA,WAAW,EAAC,WALL;AAMPC,IAAAA,MAAM,EAAC,KANA;AAOPC,IAAAA,OAAO,EAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAPD;AAQPC,IAAAA,OAAO,EAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP;AARD;AAFS,CAAT,CAAf;AAcAV,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACW,SADP;AAGLR,EAAAA,UAAU,EAAE;AACRS,IAAAA,SAAS,EAAC;AACN,iBAAS,EADH;AAENC,MAAAA,IAAI,EAAEd;AAFA,KADF;AAKRe,IAAAA,UAAU,EAAEd,EAAE,CAACe;AALP,GAHP;AAWLC,EAAAA,IAAI,EAAC,gBAAY;AACb;AACA;AACA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC,KAAKL,SAAL,CAAeM,MAA/B,EAAuCD,CAAC,EAAxC,EACA;AACI,UAAIE,IAAI,GAAGnB,EAAE,CAACoB,WAAH,CAAe,KAAKN,UAApB,CAAX;AACA,WAAKO,IAAL,CAAUC,QAAV,CAAmBH,IAAnB,EAFJ,CAE+B;;AAE3B,UAAII,IAAI,GAAG,KAAKX,SAAL,CAAeK,CAAf,CAAX;AACA,UAAIO,SAAS,GAAG,CAAhB;AACA,UAAGP,CAAC,IAAE,CAAN,EAASO,SAAS,GAAG,CAAZ,CANb,CAM4B;;AACxBL,MAAAA,IAAI,CAACM,YAAL,CAAkB,iBAAlB,EAAqCT,IAArC,CAA0CO,IAA1C,EAA+CC,SAA/C;AACH;AAEJ,GAzBI;AA2BLE,EAAAA,WAAW,EAAC,uBAAU;AAGlB,SAAK,IAAIT,CAAC,GAAC,CAAX,EAAcA,CAAC,IAAE,KAAKL,SAAL,CAAeM,MAAhC,EAAwCD,CAAC,EAAzC,EACA;AACI,UAAIM,IAAI,GAAG,KAAKX,SAAL,CAAeK,CAAf,CAAX,CADJ,CACmC;;AAC/B,UAAIE,IAAI,GAAG,KAAKE,IAAL,CAAUM,QAAV,CAAmBV,CAAnB,CAAX,CAFJ,CAEsC;;AAClC,UAAIE,IAAI,CAACS,MAAL,IAAe,IAAnB,EAA0B;AAC1B;AAEIT,UAAAA,IAAI,CAACM,YAAL,CAAkB,iBAAlB,EAAqCI,OAArC;AACA,cAAIC,QAAQ,GAAG,CAACb,CAAC,GAAC,CAAH,IAAM,KAAKL,SAAL,CAAeM,MAApC;AACA,cAAIY,QAAQ,IAAI,CAAhB,EAAoBA,QAAQ,GAAG,KAAKlB,SAAL,CAAeM,MAA1B,CAJxB,CAMI;;AAEAa,UAAAA,QAAQ,GAAG,KAAKV,IAAL,CAAUM,QAAV,CAAmBG,QAAnB,CAAX;AACAC,UAAAA,QAAQ,CAACN,YAAT,CAAsB,iBAAtB,EAAyCO,MAAzC;AAED;AACF;AACJ;AACJ;AAjDI,CAAT","sourceRoot":"/","sourcesContent":["var cardItem = cc.Class({\r\n    name : 'cardItem',\r\n    properties:{\r\n        id : 0,\r\n        from:\"0\" ,\r\n        name:\"0\",\r\n        date:\"0/00/0000\",\r\n        information:\"000000000\",\r\n        picUrl:'000',\r\n        optionA:[0,0,0,0],\r\n        optionB:[0,0,0,0],\r\n    },\r\n})\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        cardItems:{\r\n            default: [],\r\n            type: cardItem\r\n        },\r\n        cardPerfab: cc.Prefab\r\n    },\r\n\r\n    init:function () {  \r\n        //初始话时会初始化 多 张卡牌\r\n        //和data区差不多，改变了函数名称  \r\n        for( var i=0; i<this.cardItems.length; i++ )\r\n        {\r\n            let item = cc.instantiate(this.cardPerfab);\r\n            this.node.addChild(item);  //创建新节点\r\n\r\n            let data = this.cardItems[i];\r\n            let isTopCard = 0;\r\n            if(i==1) isTopCard = 1; //顶端卡牌才显示\r\n            item.getComponent('js_cardTemplate').init(data,isTopCard);\r\n        }\r\n\r\n    },\r\n\r\n    getNextCard:function(){\r\n       \r\n        \r\n        for( var i=1; i<=this.cardItems.length; i++ )\r\n        {\r\n            let data = this.cardItems[i];  //这里存放的是数据\r\n            let item = this.node.children[i]; //这里是节点\r\n            if( item.active == true ) //找到顶端的牌\r\n            {\r\n               \r\n                item.getComponent('js_cardTemplate').moveOff();\r\n                let nextCard = (i+1)%this.cardItems.length ;\r\n                if( nextCard == 0 ) nextCard = this.cardItems.length;\r\n               \r\n                //console.log(\"i am in js_cardlist , the top card is:\" + i + \" \\n i will get next card!: \" + nextCard );\r\n\r\n                nextItem = this.node.children[nextCard];\r\n                nextItem.getComponent('js_cardTemplate').moveUp();\r\n\r\n               break;\r\n            }\r\n        }\r\n    }\r\n\r\n});\r\n"]}